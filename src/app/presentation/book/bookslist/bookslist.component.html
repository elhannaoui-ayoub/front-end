<div class="container-xl">
  <div class="row g-3 mb-4 align-items-center justify-content-between">
    <div class="col-auto">
      <h1 class="app-page-title mb-0">Books</h1>
    </div>
    <div class="col-auto">
      <div class="page-utilities">
        <div class="row g-2 justify-content-start justify-content-md-end align-items-center">
          <div class="col-auto">
            <input type="text" id="search-docs" (input)="onInput($event)" name="searchdocs" class="form-control search-docs" placeholder="Title, ISBN, keyword...">
          </div>
          <div class="col-auto">
            <select (change)="onInput2($event)" class="form-select w-auto">
              <option selected value="">All</option>
              <option *ngFor="let category of categories" [value]="category.id">{{category.intitule}}</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row g-4">
    <div *ngFor="let book of booksFiltered" class="col-2 col-md-2 col-xl-3 col-xxl-2" style="width:217px">
      <div class="app-card app-card-doc shadow-sm h-100">
        <div class="app-card-thumb-holder p-3">
          <div class="app-card-thumb">
            <img class="thumb-image" style="width:100%;height:100%" src="http://localhost:8082/images/{{book.image}}" alt="">
          </div>
          <a class="app-card-link-mask" ></a>
        </div>
        <div class="app-card-body p-3 has-card-actions">
          <h4 class="app-doc-title truncate mb-0"><a >{{book.intitule}}</a></h4>
          <div class="app-doc-meta">
            <ul class="list-unstyled mb-0">
              <li><span class="text-muted">Categories:</span>
                <span *ngFor="let categorie of book.categories">{{categorie.intitule}},</span>
              </li>
              <li><span class="text-muted">Price:</span> {{book.borrowPrice}} MAD</li>
            </ul>
          </div>
          <div class="app-card-actions">
            <div class="dropdown">
              <div class="dropdown-toggle no-toggle-arrow" data-bs-toggle="dropdown" aria-expanded="false">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-three-dots-vertical" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path>
                </svg>
              </div>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" (click)="routerAffect2(book)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-eye me-2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.134 13.134 0 0 0 1.66 2.043C4.12 11.332 5.88 12.5 8 12.5c2.12 0 3.879-1.168 5.168-2.457A13.134 13.134 0 0 0 14.828 8a13.133 13.133 0 0 0-1.66-2.043C11.879 4.668 10.119 3.5 8 3.5c-2.12 0-3.879 1.168-5.168 2.457A13.133 13.133 0 0 0 1.172 8z"></path>
                  <path fill-rule="evenodd" d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM7.5 8a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0z"></path>
                </svg>View</a></li>
                <li><a class="dropdown-item"  (click)="addToCart(book)" ><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart me-2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path d="M0 1a1 1 0 0 1 1-1h1.11a1 1 0 0 1 .98.804l.805 4.027 1.354 6.763a1 1 0 0 0 .98.809h7.472a1 1 0 0 0 .98-.809l1.354-6.763.805-4.027a1 1 0 0 1 .98-.804H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-1.211l-.805 4.027-1.354 6.763a3 3 0 0 1-2.94 2.418H4.61a3 3 0 0 1-2.94-2.418L.316 3H1a1 1 0 0 1 0-2H.305l.511-2.542A3 3 0 0 1 3.693 0h8.614a3 3 0 0 1 2.878 2.197L15.695 6H14a1 1 0 0 1 0-2h.305l-.511-2.542A1 1 0 0 1 12.307 1H3.693a1 1 0 0 1-.98.804H1a1 1 0 0 1-1-1zM1.115 2h12.771l-.805 4.027H1.92L1.115 2zm4.82 8.152a1 1 0 1 1 1.805.902l-1 4.998a1 1 0 0 1-.978.848H4.61a1 1 0 0 1-.98-.848l-1-4.998a1 1 0 1 1 1.805-.902l.5 2.499L5.935 10.15zm4.93 0a1 1 0 1 1 1.805.902l-1 4.998a1 1 0 0 1-.978.848h-1.945a1 1 0 0 1-.98-.848l-1-4.998a1 1 0 1 1 1.805-.902l.5 2.499L10.865 10.15zM8.5 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                </svg>
                  Add to cart</a></li>
                <li *ngIf="keycloakService.getUserRoles().includes('ADMIN')" ><a class="dropdown-item" (click)="routerAffect(book)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil me-2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M12.146.854a.5.5 0 0 1 .708 0l2.292 2.292a.5.5 0 0 1 0 .708l-8.5 8.5-3 1a.5.5 0 0 1-.643-.643l1-3 8.5-8.5zM11.207 2.5L3.5 10.207l-.646.646-.354 1.06 1.06-.354.646-.646L13.5 4.793 11.207 2.5zM14 4L12 2l-1.5 1.5 2 2L14 4z"></path>
                  <path fill-rule="evenodd" d="M1 13.5V16h2.5L14 5.5l-2.5-2.5L1 13.5zm1 1H2v-1h.5V15z"></path>
                </svg>Edit</a></li>
                <li *ngIf="keycloakService.getUserRoles().includes('ADMIN')"><a class="dropdown-item">
                  <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash me-2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path d="M5.5 5.5A.5.5 0 0 1 6 5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"></path>
                  <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1-1V1.5a1.5 1.5 0 0 0-3 0V2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1.5a1.5 1.5 0 0 0-3 0V2a1 1 0 0 1-1 1H1a1 1 0 0 1-1 1v1h16V4a1 1 0 0 1-1-1h-1zm-4.5-.5V2a.5.5 0 0 1 1 0v.5h-1zM6.5 2a.5.5 0 0 1 1 0v.5h-1V2zM1 5v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5H1zm3 1h8v8H4V6z"></path>
                </svg>Delete</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<br>

  <nav class="app-pagination">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a class="page-link"  tabindex="-1" aria-disabled="true" (click)="previousPage()">Previous</a>
      </li>
      <li class="page-item" *ngFor="let page of paginationElements" [class.active]="page === currentPage">
        <a class="page-link"  (click)="changePage(page)">{{ page }}</a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <a class="page-link"  (click)="nextPage()">Next</a>
      </li>
    </ul>
  </nav>





</div>
